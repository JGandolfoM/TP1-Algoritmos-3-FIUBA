Object subclass: #Descuento	instanceVariableNames: ''	classVariableNames: ''	package: 'TP-1'!!Descuento methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/25/2022 15:07'!calcularElDescuentoDe: unValor	self subclassResponsibility! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Descuento class	instanceVariableNames: ''!!Descuento class methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/25/2022 17:42'!descuentoConDuracion: unaDuracion	| descuento |		descuento := SinDescuento new.			(unaDuracion >= 30) ifTrue: [ 		descuento := ConDescuento new.		 ].	^descuento.! !Descuento subclass: #ConDescuento	instanceVariableNames: ''	classVariableNames: ''	package: 'TP-1'!!ConDescuento methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 12:53'!calcularElDescuentoDe: unNumero	^ unNumero * 0.1! !Object subclass: #Horario	instanceVariableNames: 'horario'	classVariableNames: ''	package: 'TP-1'!!Horario methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 11:57'!establecerHorario: unHorario	horario := unHorario.! !!Horario methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 10:45'!calcularGastoLlamadaConDuracion: unaDuracion	self subclassResponsibility! !!Horario methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 11:58'!obtenerHorario	^horario asString.! !Horario subclass: #HorarioInternacional	instanceVariableNames: 'tarifa'	classVariableNames: ''	package: 'TP-1'!!HorarioInternacional methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 11:55'!establecerTarifa: unaTarifa	tarifa := unaTarifa.! !!HorarioInternacional methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 11:49'!calcularGastoLlamadaConDuracion: unaDuracion	^unaDuracion * tarifa.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!HorarioInternacional class	instanceVariableNames: ''!!HorarioInternacional class methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 12:35'!conHorario: unHorario ConTarifa: unaTarifa	|horarioInternacional|		horarioInternacional  := self new.		horarioInternacional  establecerHorario: unHorario.	horarioInternacional establecerTarifa: unaTarifa.		^horarioInternacional.! !Error subclass: #HorarioInvalidoError	instanceVariableNames: ''	classVariableNames: ''	package: 'TP-1'!Horario subclass: #HorarioNacionalHabil	instanceVariableNames: ''	classVariableNames: ''	package: 'TP-1'!!HorarioNacionalHabil methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 11:51'!calcularGastoLlamadaConDuracion: unaDuracion	^unaDuracion * 0.2.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!HorarioNacionalHabil class	instanceVariableNames: ''!!HorarioNacionalHabil class methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 12:34'!conHorario: unHorario	|horarioNacionalHabil|		horarioNacionalHabil := self new.		horarioNacionalHabil establecerHorario: unHorario.		^horarioNacionalHabil.! !Horario subclass: #HorarioNacionalNoHabil	instanceVariableNames: ''	classVariableNames: ''	package: 'TP-1'!!HorarioNacionalNoHabil methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 11:51'!calcularGastoLlamadaConDuracion: unaDuracion	^unaDuracion * 0.1.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!HorarioNacionalNoHabil class	instanceVariableNames: ''!!HorarioNacionalNoHabil class methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 12:35'!conHorario: unHorario	|horarioNacionalNoHabil|		horarioNacionalNoHabil := self new.		horarioNacionalNoHabil establecerHorario: unHorario.		^horarioNacionalNoHabil.! !Object subclass: #Llamada	instanceVariableNames: 'duracion destino horario descuento'	classVariableNames: ''	package: 'TP-1'!!Llamada methodsFor: 'accessing' stamp: 'Joaquito 5/26/2022 15:48'!destino	^destino.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 17:50'!establecerDuracion: unaDuracion	duracion := unaDuracion.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 18:04'!establecerHorario: unHorario	horario := unHorario.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/25/2022 15:32'!establecerDestino: unDestino.	destino := unDestino.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/26/2022 15:47'!calcularGasto	|gastoSinDescuento descuentoAplicado |		gastoSinDescuento := horario calcularGastoLlamadaConDuracion: duracion.	descuentoAplicado := descuento calcularElDescuentoDe: gastoSinDescuento.		^gastoSinDescuento - descuentoAplicado.	! !!Llamada methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 18:03'!establecerDescuento: unDescuento	descuento := unDescuento.! !!Llamada methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/25/2022 15:29'!describir	(self destino = 'Nacional') ifTrue:[ 		^'Fue una llamada Nacional que se realizó a las ', horario obtenerHorario, ' hs durando ', duracion asString, ' minutos'.].		^'La llamada se hizo a ', self destino , ' a las ', horario obtenerHorario, ' hs durando ', duracion asString, ' minutos'.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Llamada class	instanceVariableNames: ''!!Llamada class methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/25/2022 18:01'!nacionalEnElHorario: unaHora ConDuracion: unaDuracion	| llamadaNacional horario descuento|		llamadaNacional := self new.		horario := HorarioNacionalNoHabil conHorario: unaHora.	(unaHora between: 8 and: 19) ifTrue:[	horario := HorarioNacionalHabil conHorario: unaHora.	].		descuento := Descuento descuentoConDuracion:unaDuracion.		llamadaNacional establecerDestino: 'Nacional'.	llamadaNacional establecerDuracion: unaDuracion.	llamadaNacional establecerHorario: horario.	llamadaNacional establecerDescuento: descuento.		^llamadaNacional.	! !!Llamada class methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/25/2022 15:35'!internacionalEnElHorario: unaHora ConDuracion: unaDuracion ConTarifa: unaTarifa Hacia: unDestino	|llamadaInternacional horario descuento|		llamadaInternacional := self new.	horario := HorarioInternacional conHorario: unaHora ConTarifa: unaTarifa.	descuento := Descuento descuentoConDuracion: unaDuracion.		llamadaInternacional establecerDestino: unDestino.	llamadaInternacional establecerDuracion: unaDuracion.	llamadaInternacional establecerHorario: horario.	llamadaInternacional establecerDescuento: descuento.		^llamadaInternacional.	! !Descuento subclass: #SinDescuento	instanceVariableNames: ''	classVariableNames: ''	package: 'TP-1'!!SinDescuento methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/24/2022 12:53'!calcularElDescuentoDe: unNumero	^ 0.! !Object subclass: #TeleAlgo	instanceVariableNames: 'llamadas abonoMensual tarifaInternacional'	classVariableNames: ''	package: 'TP-1'!!TeleAlgo methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/25/2022 18:25'!consultarPorLlamadaEfectuadaMasCostosa	| llamadaMasCostosa |		(llamadas isEmpty) ifTrue:[^'No se realizó ninguna llamada'].		llamadaMasCostosa :=  llamadas detectMax:[ : llamada| llamada calcularGasto ].		^'La llamada mas costosa: ', llamadaMasCostosa describir.! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/25/2022 17:38'!registrarLlamadaNacionalConDuracion: unaDuracion HechaEnElHorario: unHorario	| llamada |		(unHorario between:0 and:24)ifFalse:[HorarioInvalidoError signal].		llamada := Llamada nacionalEnElHorario: unHorario ConDuracion: unaDuracion.		llamadas add: llamada.! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/25/2022 15:45'!tarifaInternacional	^tarifaInternacional.! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/24/2022 18:45'!cambiarAbonoMensual: unAbonoMensual	abonoMensual := unAbonoMensual.! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/24/2022 18:44'!abonoMensual	^abonoMensual.! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/26/2022 15:45'!calcularGastoFinal	|acumulado|	acumulado := llamadas sum:[:llamada | (llamada calcularGasto)].		^ abonoMensual + acumulado.	! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/25/2022 17:38'!registrarLlamadaInternacionalCon: unaDuracion HechaEnElHorario: unHorario Hacia: unDestino	| llamada tarifa |		tarifa := tarifaInternacional.		(unHorario between:0 and:24)ifFalse:[HorarioInvalidoError signal].			llamada := Llamada internacionalEnElHorario: unHorario ConDuracion: unaDuracion ConTarifa: tarifa Hacia: unDestino.		llamadas add: llamada.! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/24/2022 18:45'!initialize	llamadas := OrderedCollection new.	tarifaInternacional := 0.	abonoMensual := 0.	! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/24/2022 18:45'!llamadas	^llamadas.! !!TeleAlgo methodsFor: 'accessing' stamp: 'Joaquito 5/25/2022 17:29'!aplicarTarifaPorMinutoALlamadaInternacional: unaTarifa		(unaTarifa > 0 )ifTrue:[tarifaInternacional := unaTarifa.].	! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TeleAlgo class	instanceVariableNames: ''!!TeleAlgo class methodsFor: 'as yet unclassified' stamp: 'Joaquito 5/25/2022 08:59'!conAbonoMensual: unAbonoMensual	|teleAlgo|	teleAlgo := self new.	teleAlgo cambiarAbonoMensual: unAbonoMensual.		^teleAlgo.! !